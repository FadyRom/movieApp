<app-navbar />

<div class="selectedMovieContainer">
  <h1 class="movieTitle">{{ selectedMovie().title }}</h1>
  <div class="selectedMovieInfoDiv">
    <div class="selectedMoviePosterDiv">
      <img
        [src]="selectedMoviePoster"
        [alt]="selectedMovie().original_title"
        class="selectedMoviePoster"
      />
    </div>

    <div class="selectedMovieInfo">
      <ul class="castMovieInfo">
        <li class="castNames">
          Director: @for (director of crew; track $index) {
          <span class="spanNames"> {{ director.name }} </span>, }@empty {
          <span class="spanNames">NO DATA AVAILABLE</span>
          }
        </li>

        <li class="castNames">
          Actors: @for (actor of cast; track actor.profile_path) {
          <span class="spanNames">{{ actor.name }}</span
          >, }@empty {
          <span class="spanNames">NO DATA AVAILABLE</span>
          }
        </li>

        <li class="castNames">
          Release Date:
          <span class="spanNames">{{ selectedMovie().release_date }}</span>
        </li>

        <li class="castNames">
          Rating:
          <span class="spanNames">{{ selectedMovie().vote_average }}</span>
          <span class="peopleVoted">
            - {{ selectedMovie().vote_count }} People voted</span
          >
        </li>
      </ul>

      <div class="moviewOverViewDiv moviewOverViewDivLab">
        <p class="movieOverView">{{ selectedMovie().overview }}</p>
      </div>
    </div>
  </div>
</div>

<div class="reviewsContainer">
  <div class="reviewsDiv">
    <h2 class="reviewsH2">Reviews</h2>

    <ul class="reviewsList">
      @for (review of userReviews; track review) {
      <li>
        <div>
          <h3>{{ review.author }}:</h3>
          <p class="userRate">rated: {{ review.author_details.rating }}</p>
        </div>
        <br />
        <span class="spanNames">{{ review.content }}</span>
      </li>
      }@empty {
      <li class="NoComments">No Comments</li>
      }
    </ul>
  </div>

  <div>
    <app-recommendations [movieId]="movieId()" />
  </div>
</div>
